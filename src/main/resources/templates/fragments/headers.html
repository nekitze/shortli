<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<div th:fragment="general_header" class="container">
    <header class="d-flex align-items-center justify-content-center justify-content-between py-3 mb-3 border-bottom">
        <a href="/" class="d-flex align-items-center col-md-3 mb-2 text-dark mb-md-0 text-decoration-none">
            <img class="bi me-2" width="70" height="70" role="img" th:src="@{/images/shortli.png}" alt="Логотип Shortli"/>
        </a>
        <div>
            <div class="d-none d-md-block">
                <a sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/admin}" class="btn btn-danger me-2">Админка</a>
                <a sec:authorize="!isAuthenticated()" th:href="@{/login}" class="btn btn-outline-primary me-2">Вход</a>
                <a sec:authorize="!isAuthenticated()" th:href="@{/signup}" class="btn btn-primary">Регистрация</a>
                <a sec:authorize="isAuthenticated()" th:href="@{/dashboard}" class="btn btn-primary me-2">Мои ссылки</a>
                <a sec:authorize="isAuthenticated()" th:href="@{/logout}" class="btn btn-outline-primary">Выйти</a>
            </div>

            <div class="d-md-none">
                <div class="dropdown">
                    <button class="btn btn-light btn-outline-primary" type="button" id="dropdownMenuButton"
                            data-bs-toggle="dropdown" aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                             class="bi bi-list" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"></path>
                        </svg>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><a sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/admin}" class="dropdown-item">Админка</a></li>
                        <li><a sec:authorize="!isAuthenticated()" th:href="@{/login}" class="dropdown-item">Вход</a> </li>
                        <li><a sec:authorize="!isAuthenticated()" th:href="@{/signup}" class="dropdown-item">Регистрация</a></li>
                        <li><a sec:authorize="isAuthenticated()" th:href="@{/dashboard}" class="dropdown-item">Мои ссылки</a></li>
                        <li><a sec:authorize="isAuthenticated()" th:href="@{/logout}" class="dropdown-item">Выйти</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
</div>

<div th:fragment="headerBack" class="container">
    <header class="d-flex align-items-center justify-content-center justify-content-between py-3 mb-3 border-bottom">
        <a href="/" class="d-flex align-items-center col-md-3 mb-2 text-dark mb-md-0 text-decoration-none">
            <img class="bi me-2" width="70" height="70" role="img" th:src="@{/images/shortli.png}" alt="Shortli"/>
        </a>
        <div class="col-md-3 text-end">
            <a th:href="@{/}">
                <button type="button" class="btn btn-outline-primary me-2">Назад</button>
            </a>
        </div>
    </header>
</div>